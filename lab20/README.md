# Лабораторна робота №20
## Тема: SRP – декомпозиція OrderProcessor

### Мета
Застосувати принцип єдиної відповідальності (SRP) для декомпозиції складного класу `OrderProcessor` на менші, більш сфокусовані компоненти.
Початковий стан (порушення SRP)

### Клас OrderProcessor спочатку робив відразу кілька речей:

Перевіряв замовлення (валідація TotalAmount > 0)
Зберігав замовлення у “базу даних” (виводив повідомлення в консоль)
Відправляв email-підтвердження клієнту
Оновлював статус замовлення
Такий підхід порушує SRP, бо будь-яка зміна правил валідації, збереження або email-логіки потребувала б змін у цьому класі.
Рефакторинг згідно SRP

### Щоб дотриматись принципу єдиної відповідальності, ми розділили OrderProcessor на такі класи:

IOrderValidator / OrderValidator – відповідає тільки за перевірку замовлення.
IOrderRepository / InMemoryOrderRepository – відповідає тільки за збереження замовлень.
IEmailService / ConsoleEmailService – відповідає тільки за відправку email.
OrderService – координує роботу всіх компонентів через Dependency Injection, не виконуючи бізнес-логіку самостійно.
Такий підхід дозволяє змінювати будь-який компонент окремо, не впливаючи на інші, і робить код більш зрозумілим та тестованим.

### Демонстрація роботи програми

Програма створює два замовлення:
Валідне замовлення
Валідація проходить успішно
Замовлення зберігається
Відправляється email-підтвердження
Статус змінюється на Processed
Невалідне замовлення
Валідація не пройшла
Статус замовлення змінюється на Cancelled
Збереження та email не відбуваються
Консольний вивід показує роботу всіх компонентів, підтверджуючи правильність роботи SRP-архітектури.

### Структура проєкту

Program.cs – точка входу в програму, демонстрація роботи
Order.cs – клас замовлення та enum OrderStatus
OrderProcessor.cs – початковий клас (порушує SRP)
OrderService.cs – координує роботу всіх компонентів
IOrderValidator.cs / OrderValidator.cs – перевірка замовлень
IOrderRepository.cs / InMemoryOrderRepository.cs – збереження замовлень
IEmailService.cs / ConsoleEmailService.cs – відправка email
![alt text](image.png)